(this["webpackJsonpnotes-app"]=this["webpackJsonpnotes-app"]||[]).push([[0],{23:function(e,t,n){},31:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(25),s=n.n(r),o=(n(31),n(15)),i=n(5),l=n(3),u=n.n(l),d=n(7),j=n(6),b=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a,c,r,s,o=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.length>2&&void 0!==o[2]?o[2]:"GET",c="".concat("","/").concat(t),e.prev=2,"GET"!==a){e.next=10;break}return e.next=6,fetch(c);case 6:return r=e.sent,e.next=9,r.json();case 9:return e.abrupt("return",e.sent);case 10:return e.next=12,fetch(c,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 12:return s=e.sent,e.next=15,s.json();case 15:return e.abrupt("return",e.sent);case 18:return e.prev=18,e.t0=e.catch(2),e.abrupt("return",{success:!1,msg:"Error inesperado. Por favor intente nuevamente"});case 21:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a,c,r,s,o,i=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.length>2&&void 0!==i[2]?i[2]:"GET",c="".concat("","/").concat(t),e.prev=2,r=localStorage.getItem("token")||"","GET"!==a){e.next=11;break}return e.next=7,fetch(c,{headers:{"x-token":r}});case 7:return s=e.sent,e.next=10,s.json();case 10:return e.abrupt("return",e.sent);case 11:return e.next=13,fetch(c,{method:a,headers:{"Content-Type":"application/json","x-token":r},body:JSON.stringify(n)});case 13:return o=e.sent,e.next=16,o.json();case 16:return e.abrupt("return",e.sent);case 19:return e.prev=19,e.t0=e.catch(2),e.abrupt("return",{success:!1,msg:"Error inesperado. Por favor intente nuevamente"});case 22:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(t,n){return e.apply(this,arguments)}}(),O=n(0),h=Object(a.createContext)(),m={uid:null,checking:!0,logged:!1},x=function(e){var t=e.children,n=Object(a.useState)(m),c=Object(j.a)(n,2),r=c[0],s=c[1],o=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("auth/signin",{email:t,password:n},"POST");case 2:return(a=e.sent).success&&(c=a.user.uid,localStorage.setItem("token",a.token),s({uid:c,checking:!1,logged:!0})),e.abrupt("return",{success:a.success,msg:a.msg});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("auth/signup",{email:t,password:n},"POST");case 2:return(a=e.sent).success&&(c=a.user.uid,localStorage.setItem("token",a.token),s({uid:c,checking:!1,logged:!0})),e.abrupt("return",{success:a.success,msg:a.msg});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=Object(a.useCallback)(Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("token")){e.next=4;break}return s({uid:null,checking:!1,logged:!1}),e.abrupt("return",!1);case 4:return e.next=6,p("auth/renewToken");case 6:if(!(t=e.sent).success){e.next=12;break}return n=t.user.uid,localStorage.setItem("token",t.token),s({uid:n,checking:!1,logged:!0}),e.abrupt("return",!0);case 12:return s({uid:null,checking:!1,logged:!1}),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e)}))),[]);return Object(O.jsx)(h.Provider,{value:{auth:r,signin:o,signup:i,verifyToken:l,logout:function(){localStorage.removeItem("token"),s({checking:!1,logged:!1})}},children:t})};var f=function(e){var t=e.children,n=e.stretch;return Object(O.jsx)("div",{className:"grid ".concat(n?"grid--stretch":""),children:t})},v=(n(23),n(12)),_=n(2),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),n=Object(j.a)(t,2),c=n[0],r=n[1],s=function(){r(e)},o=function(e){var t=e.target;r(Object(_.a)(Object(_.a)({},c),{},Object(v.a)({},t.name,t.value)))};return[c,o,s]};var N=function(){var e=Object(a.useContext)(h).signin,t=g({email:"",password:""}),n=Object(j.a)(t,2),c=n[0],r=n[1],s=c.email,i=c.password,l=function(){var t=Object(d.a)(u.a.mark((function t(n){var a,c,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),s.trim()&&i.trim()){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e(s,i);case 5:a=t.sent,c=a.success,r=a.msg,c||alert(r);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"auth__page",children:Object(O.jsx)("div",{className:"auth__form-wrapper",children:Object(O.jsxs)("form",{action:"/signin",method:"POST",className:"auth__form",autoComplete:"off",onSubmit:l,children:[Object(O.jsx)("h1",{className:"text-center",children:"Welcome Back"}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{className:"form-label",htmlFor:"email",children:"Email address"}),Object(O.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email",required:!0,value:s,onChange:r})]}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password"}),Object(O.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",required:!0,value:i,onChange:r})]}),Object(O.jsx)(f,{children:Object(O.jsx)("button",{type:"submit",className:"btn btn--primary mt-2 col--12",children:"Sign In"})}),Object(O.jsxs)("p",{className:"auth__bottom-text",children:["Don't have an account?",Object(O.jsx)(o.b,{to:"/signup",children:"Create one for free"})]})]})})})};var y=function(){var e=Object(a.useContext)(h).signup,t=g({email:"",password:""}),n=Object(j.a)(t,2),c=n[0],r=n[1],s=c.email,i=c.password,l=function(){var t=Object(d.a)(u.a.mark((function t(n){var a,c,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),s.trim()&&i.trim()){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e(s,i);case 5:a=t.sent,c=a.success,r=a.msg,c||alert(r);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"auth__page",children:Object(O.jsx)("div",{className:"auth__form-wrapper",children:Object(O.jsxs)("form",{action:"/signup",method:"POST",className:"auth__form",autoComplete:"off",onSubmit:l,children:[Object(O.jsx)("h1",{className:"text-center",children:"Sign Up"}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{className:"form-label",htmlFor:"email",children:"Email address"}),Object(O.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email",required:!0,value:s,onChange:r})]}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password"}),Object(O.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",required:!0,value:i,onChange:r})]}),Object(O.jsx)(f,{children:Object(O.jsx)("button",{type:"submit",className:"btn btn--primary mt-2 col--12",children:"Sign In"})}),Object(O.jsxs)("p",{className:"auth__bottom-text",children:["Already have an account?",Object(O.jsx)(o.b,{to:"/signin",children:" Sign in"})]})]})})})},E={NOTE_ADD:"Add a new note",NOTE_UPDATE:"Update a note",NOTE_COMPLETE:"Toggle the completed state of a note",NOTE_DELETE:"Delete a note",NOTE_SET_NOTES:"Set the initial notes",NOTE_SET_ACTIVE:"Set active note",NOTE_SET_COMPLETED:"Set the number of completed notes",NOTE_SET_DISPLAYED:"Set the displayed notes",NOTE_SEARCH:"Search notes",UI_SET_IS_MODAL_OPEN:"Open the modal",UI_SET_CURRENT_TAB:"Set the current tab"},T=function(e){return{type:E.NOTE_UPDATE,payload:e}},S=function(e){return{type:E.NOTE_ADD,payload:e}},C=function(e){return{type:E.NOTE_SET_NOTES,payload:e}},k=function(e){return{type:E.NOTE_SET_ACTIVE,payload:e}},w=function(){return{type:E.NOTE_SET_COMPLETED}},D=function(e){return{type:E.NOTE_SET_DISPLAYED,payload:e}},A=function(e){return{type:E.NOTE_COMPLETE,payload:e}},P=n(13),I={notes:[],displayedNotes:[],activeNote:null,completedNotes:0},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.NOTE_SET_NOTES:var n=t.payload.filter((function(e){return e.completed})),a=t.payload.filter((function(e){return!e.completed}));return Object(_.a)(Object(_.a)({},e),{},{notes:[].concat(Object(P.a)(a),Object(P.a)(n)),displayedNotes:[].concat(Object(P.a)(a),Object(P.a)(n))});case E.NOTE_ADD:return Object(_.a)(Object(_.a)({},e),{},{notes:[Object(_.a)({},t.payload)].concat(Object(P.a)(e.notes))});case E.NOTE_UPDATE:return Object(_.a)(Object(_.a)({},e),{},{notes:e.notes.map((function(e){return e._id===t.payload._id?Object(_.a)({},t.payload):e}))});case E.NOTE_COMPLETE:var c=t.payload,r=c._id,s=c.completed,o=c.updatedAt,i=e.displayedNotes.filter((function(e){return e._id!==r})),l=e.displayedNotes.find((function(e){return e._id===r}));l.updatedAt=o,l.completed=s;var u=s?[].concat(Object(P.a)(i),[l]):e.displayedNotes.filter((function(e){return e._id===r?Object(_.a)(Object(_.a)({},e),{},{updatedAt:o,completed:s}):e}));return Object(_.a)(Object(_.a)({},e),{},{displayedNotes:u});case E.NOTE_DELETE:return Object(_.a)(Object(_.a)({},e),{},{notes:e.notes.filter((function(e){return e._id!==t.payload}))});case E.NOTE_SET_ACTIVE:return Object(_.a)(Object(_.a)({},e),{},{activeNote:e.displayedNotes.find((function(e){return e._id===t.payload}))||null});case E.NOTE_SET_COMPLETED:return Object(_.a)(Object(_.a)({},e),{},{completedNotes:e.notes.filter((function(e){return e.completed})).length});case E.NOTE_SET_DISPLAYED:var d="all"===t.payload?e.notes:e.notes.filter((function(e){return e.category===t.payload})),j=d.filter((function(e){return e.completed})),b=d.filter((function(e){return!e.completed}));return Object(_.a)(Object(_.a)({},e),{},{displayedNotes:[].concat(Object(P.a)(b),Object(P.a)(j))});case E.NOTE_SEARCH:var p=t.payload,O=p.category,h=p.q;return Object(_.a)(Object(_.a)({},e),{},{displayedNotes:e.notes.filter((function(e){var t=e.title.toLowerCase().includes(h.toLowerCase()),n="all"===O||e.category===O;return t&&n}))});default:return e}},M=function(e,t){switch(t.type){case E.UI_SET_IS_MODAL_OPEN:return Object(_.a)(Object(_.a)({},e),{},{isModalOpen:t.payload});case E.UI_SET_CURRENT_TAB:return Object(_.a)(Object(_.a)({},e),{},{currentTab:t.payload});default:return e}},F={isModalOpen:!1,currentTab:"all"},U=Object(a.createContext)(),R=function(e){var t=e.children,n=Object(a.useReducer)(M,F),c=Object(j.a)(n,2),r=c[0],s=c[1];return Object(O.jsx)(U.Provider,{value:{uiState:r,uiDispatch:s},children:t})},B={notes:[],displayedNotes:[],activeNote:null,completedNotes:0},J=Object(a.createContext)(),Y=function(e){var t=e.children,n=Object(a.useReducer)(L,B),c=Object(j.a)(n,2),r=c[0],s=c[1],o=r.notes,i=Object(a.useContext)(U).uiState.currentTab;return Object(a.useEffect)((function(){s(w())}),[o]),Object(a.useEffect)((function(){s(D(i))}),[s,i]),Object(O.jsx)(J.Provider,{value:{notesState:r,notesDispatch:s},children:t})};var q=function(e){var t=e.children;return Object(O.jsx)("div",{className:"wrapper",children:t})},H=n(40);var z=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(a.useContext)(J).notesDispatch,s=Object(a.useContext)(U).uiState;return Object(O.jsxs)("form",{className:"search",onSubmit:function(e){var t,a;(e.preventDefault(),n.trim())?r((t=n.trim(),a=s.currentTab,{type:E.NOTE_SEARCH,payload:{q:t,category:a}})):r(D(s.currentTab))},children:[Object(O.jsx)("button",{type:"submit","aria-label":"Search",title:"Search",className:"search__btn",children:Object(O.jsx)(H.a,{size:20,color:"currentColor"})}),Object(O.jsx)("input",{type:"text",autoComplete:"off",className:"search__input",name:"search","aria-label":"Search notes",placeholder:"Search notes...",value:n,onChange:function(e){var t=e.target;return c(t.value)}})]})};var G=function(){return Object(O.jsx)(q,{children:Object(O.jsx)("header",{className:"header",children:Object(O.jsx)(z,{})})})},V=n(41),W=function(e){return{type:E.UI_SET_IS_MODAL_OPEN,payload:!e}},K=function(e){return{type:E.UI_SET_CURRENT_TAB,payload:e}};var Q=function(e){var t=e.children,n=e.type,a=e.textTransform,c=void 0===a?"none":a,r=e.onClick;return Object(O.jsx)("button",{onClick:r,className:"btn ".concat(n?"btn--".concat(n):""," text-").concat(c),children:t})},X=["home","work","personal"];var Z=function(){var e=Object(a.useContext)(U),t=e.uiState.currentTab,n=e.uiDispatch,c=function(e){var t=e.target.dataset.tab;localStorage.setItem("lastTab",t),n(K(t))};return Object(O.jsxs)("ul",{className:"tab__list",role:"tablist",children:[Object(O.jsx)("li",{"data-tab":"all",onClick:c,className:"tab__item ".concat("all"===t?"tab__item--active":""),role:"tab",children:"All"}),X.map((function(e){return Object(O.jsx)("li",{"data-tab":e,onClick:c,className:"tab__item tab__item--custom tab__item--custom-".concat(e," ").concat(t===e?"tab__item--active":""),role:"tab",children:e},e)}))]})};var $=function(){var e=Object(a.useContext)(U),t=e.uiState,n=e.uiDispatch,c=t.isModalOpen;return Object(O.jsx)(q,{children:Object(O.jsxs)("nav",{className:"navbar",children:[Object(O.jsx)(Z,{}),Object(O.jsxs)(Q,{type:"primary",textTransform:"uppercase",onClick:function(){n(W(c))},children:[Object(O.jsx)(V.a,{size:24,color:"currentColor"}),"Add Note"]})]})})};var ee=function(e){var t=Object(a.useContext)(U),n=t.uiState,c=t.uiDispatch,r=Object(a.useContext)(J),s=r.notesState,o=r.notesDispatch,i=n.isModalOpen,l=s.activeNote,u=e.open,d=e.children;return u&&Object(O.jsx)("div",{className:"modal__root",role:"dialog",onClick:function(e){e.target.classList.contains("modal__root")&&(c(W(i)),l&&o(k()))},children:Object(O.jsx)(q,{children:Object(O.jsx)("div",{className:"modal",children:d})})})};var te=function(e){var t=e.children,n=function(e){var t=e.xs,n=e.sm,a=e.md,c=e.lg,r=e.span,s=[];return t&&s.push("col-xs--".concat(t)),n&&s.push("col-sm--".concat(n)),a&&s.push("col-md--".concat(a)),c&&s.push("col-lg--".concat(c)),r&&s.push("col--".concat(r)),s.toString().replaceAll(","," ")}({span:e.span,xs:e.xs,sm:e.sm,md:e.md,lg:e.lg});return Object(O.jsx)("div",{className:n,children:t})},ne=n(42),ae=n(43),ce=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],re=function(e){var t=new Date(e),n=ce[t.getMonth()],a=t.getDate(),c=t.getFullYear();return"".concat(n," ").concat(a<10?"0"+a:a,", ").concat(c)};var se=function(e){var t=e.label,n=e.onChange,a=e.checked;return Object(O.jsxs)("label",{className:"checkbox",children:[Object(O.jsxs)("span",{className:"checkbox__input",children:[Object(O.jsx)("input",{type:"checkbox",name:"checkbox",checked:a,onChange:n}),Object(O.jsx)("span",{className:"checkbox__control",children:Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:Object(O.jsx)("path",{fill:"none",stroke:"currentColor",strokeWidth:"3",d:"M1.73 12.91l6.37 6.37L22.79 4.59"})})})]}),t&&Object(O.jsx)("span",{className:"radio__label",children:t})]})};var oe=function(e){var t=e.setPopupShowing,n=Object(a.useContext)(J),c=n.notesState,r=n.notesDispatch,s=Object(a.useContext)(U).uiState,o=c.activeNote,i=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("notes/"+o._id,{},"DELETE");case 2:if((t=e.sent).success){e.next=6;break}return alert(t.msg),e.abrupt("return");case 6:r((n=o._id,{type:E.NOTE_DELETE,payload:n})),r(D(s.currentTab)),r(k());case 9:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"popup__root",children:Object(O.jsxs)("div",{className:"popup",role:"dialog",children:[Object(O.jsx)("h4",{className:"popup__text",children:"Delete note?"}),Object(O.jsxs)("div",{className:"popup__footer",children:[Object(O.jsx)("button",{className:"btn btn--text",onClick:function(){r(k()),t(!1)},children:"Cancel"}),Object(O.jsx)("button",{className:"btn btn--text",onClick:i,children:"Delete"})]})]})})};var ie=function(e){var t=e._id,n=e.title,c=e.description,r=e.category,s=e.completed,o=e.updatedAt,i=Object(a.useContext)(U),l=i.uiState,b=i.uiDispatch,h=Object(a.useContext)(J).notesDispatch,m=Object(a.useState)(!1),x=Object(j.a)(m,2),f=x[0],v=x[1],_=function(){var e=Object(d.a)(u.a.mark((function e(n){var a,c,r,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.target,c=a.checked,e.next=4,p("notes/complete/"+t,{completed:c},"PUT");case 4:if((r=e.sent).success){e.next=8;break}return alert(r.msg),e.abrupt("return");case 8:s=r.note,o=re(s.updatedAt),h(A({_id:t,completed:c,updatedAt:o})),h(w());case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"note note--".concat(r," ").concat(s?"note--completed":""),"data-_id":t,children:[Object(O.jsxs)("div",{className:"note__header",children:[Object(O.jsx)(se,{onChange:_,completed:s,checked:s}),Object(O.jsx)("h2",{className:"note__title",children:n}),Object(O.jsx)("button",{className:"note__btn",title:"Edit Note",onClick:function(){h(k(t)),b(W(l.isModalOpen))},children:Object(O.jsx)(ne.a,{size:20,color:"currentColor"})}),Object(O.jsx)("button",{className:"note__btn",title:"Delete Note",onClick:function(){h(k(t)),v(!0)},children:Object(O.jsx)(ae.a,{size:20,color:"currentColor"})})]}),Object(O.jsx)("p",{className:"note__description",children:c}),Object(O.jsx)("div",{className:"note__footer",children:Object(O.jsx)("span",{children:o})}),f&&Object(O.jsx)(oe,{setPopupShowing:v})]})};var le=function(e){var t=e.notes;return Object(O.jsx)("div",{className:"notes__grid",children:Object(O.jsx)(f,{stretch:!0,children:t.map((function(e){return Object(O.jsx)(te,{xs:12,sm:6,children:Object(O.jsx)(ie,Object(_.a)({},e))},e._id)}))})})};var ue=function(e){var t=e.progress;return Object(O.jsx)("div",{className:"progress-bar",children:Object(O.jsx)("div",{className:"progress-bar__progress",style:{width:t+"%"}})})},de={noNotes:"/notes-app/img/add-note-illustration.svg",noFilterNotes:"/notes-app/img/search-image.svg"};var je=function(e){var t=e.title,n=e.type,a=de[n];return Object(O.jsxs)("div",{className:"notes__any",children:[Object(O.jsx)("h1",{className:"heading-1 text-center",children:t}),Object(O.jsx)("img",{src:a,alt:t,width:"259",className:"img-center"})]})};var be=function(e){var t=e.placeholder,n=e.type,a=e.value,c=e.name,r=e.setNote,s=e.autoFocus;return Object(O.jsx)("div",{className:"form__group",children:Object(O.jsx)("input",{type:n,className:"form__control",placeholder:t,"aria-label":t,autoFocus:s,tabIndex:"1",name:c,value:a,onChange:function(e){var t=e.target;return r((function(e){return Object(_.a)(Object(_.a)({},e),{},Object(v.a)({},c,t.value))}))}})})};var pe=function(e){var t=e.options,n=e.selectHeader,c=e.setNote,r=e.value,s=e.name,o=Object(a.useState)({value:r,text:n}),i=Object(j.a)(o,2),l=i[0],u=i[1],d=l.text,b=Object(a.useRef)(),p=function(){b.current.classList.toggle("open")};return Object(O.jsxs)("div",{className:"form__control select",ref:b,children:[Object(O.jsxs)("div",{className:"select__header",onClick:p,tabIndex:"2",onBlur:function(){b.current.classList.remove("open")},onKeyPress:function(e){"Enter"===e.key&&p()},children:[d,Object(O.jsx)("span",{className:"select__arrow",children:"\u25bc"})]}),Object(O.jsx)("ul",{className:"select__list hide",children:t.map((function(e){var t=e.text,n=e.value;return Object(O.jsx)("li",{"data-value":n,className:"select__item",onClick:function(){!function(e,t){b.current.classList.remove("open"),u({value:e,text:t}),c((function(t){return Object(_.a)(Object(_.a)({},t),{},Object(v.a)({},s,e))}))}(n,t)},children:t},n)}))})]})};var Oe=function(e){var t=e.placeholder,n=e.value,a=e.name,c=e.setNote;return Object(O.jsx)("div",{className:"form__group",children:Object(O.jsx)("textarea",{className:"form__control form__control--multiline",placeholder:t,"aria-label":t,tabIndex:"3",name:a,value:n,onChange:function(e){var t=e.target;return c((function(e){return Object(_.a)(Object(_.a)({},e),{},Object(v.a)({},a,t.value))}))}})})},he={title:"",category:"",description:""};var me=function(){var e=Object(a.useContext)(U),t=e.uiState,n=e.uiDispatch,c=Object(a.useContext)(J),r=c.notesState,s=c.notesDispatch,o=Object(a.useContext)(h).auth,i=r.activeNote,l=Object(a.useState)(i||he),b=Object(j.a)(l,2),m=b[0],x=b[1],v=m.title,g=m.category,N=m.description,y=function(){n(W(t.isModalOpen)),i&&s(k())},E=function(){var e=Object(d.a)(u.a.mark((function e(n){var a,c,r,l,d,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),v.trim()&&N.trim()&&g.trim()){e.next=3;break}return e.abrupt("return");case 3:if(!i){e.next=18;break}return e.next=6,p("notes/"+i._id,{title:v,description:N,category:g},"PUT");case 6:if((a=e.sent).success){e.next=10;break}return alert(a.msg),e.abrupt("return");case 10:return c=a.note,r=re(c.updatedAt),s(T(Object(_.a)(Object(_.a)({},i),{},{title:c.title,category:c.category,description:c.description,updatedAt:r}))),s(D(t.currentTab)),x(he),s(k(null)),y(),e.abrupt("return");case 18:return e.next=20,p("notes",{title:v,description:N,category:g,user:o.uid},"POST");case 20:if((l=e.sent).success){e.next=24;break}return alert(l.msg),e.abrupt("return");case 24:d=l.note,j=re(d.updatedAt),s(S({_id:d._id,title:d.title,category:d.category,description:d.description,completed:d.completed,updatedAt:j})),s(D(t.currentTab)),x(he),s(k(null)),y();case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("form",{onSubmit:E,autoComplete:"off",children:[Object(O.jsxs)(f,{children:[Object(O.jsx)(te,{xs:12,sm:6,lg:8,children:Object(O.jsx)(be,{name:"title",value:v,setNote:x,type:"text",placeholder:"Add title...",autoFocus:!0})}),Object(O.jsx)(te,{xs:12,sm:6,lg:4,children:Object(O.jsx)(pe,{selectHeader:g||"Select Category",options:[{text:"Home",value:"home"},{text:"Work",value:"work"},{text:"Personal",value:"personal"}],name:"category",value:g,setNote:x})}),Object(O.jsx)(te,{xs:12,lg:8,children:Object(O.jsx)(Oe,{placeholder:"Add description...",name:"description",value:N,setNote:x})})]}),Object(O.jsxs)("div",{className:"modal__footer",children:[Object(O.jsx)("button",{type:"button",className:"btn btn--text",onClick:y,children:"Cancel"}),Object(O.jsx)("button",{className:"btn btn--text",children:i?"Update":"Add"})]})]})};var xe=function(){var e=Object(a.useContext)(U),t=e.uiState.isModalOpen,n=e.uiDispatch,c=Object(a.useContext)(J),r=c.notesState,s=c.notesDispatch,o=r.notes,i=r.displayedNotes,l=r.completedNotes,j=o.length,b=j>0,h=i.length>0;return Object(a.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("notes");case 2:if((t=e.sent).success){e.next=6;break}return alert(t.msg),e.abrupt("return");case 6:s(C(t.notes.map((function(e){var t=e._id,n=e.completed,a=e.title,c=e.description,r=e.category,s=e.updatedAt,o=e.user;return{_id:t,completed:n,title:a,description:c,category:r,updatedAt:re(s),user:o}})))),a=localStorage.getItem("lastTab")||"all",n(K(a));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s,n]),Object(O.jsx)("main",{className:"notes",children:Object(O.jsxs)(q,{children:[!b&&Object(O.jsx)(je,{title:"You don't have any notes",type:"noNotes"}),!h&&b?Object(O.jsx)(je,{title:"Couldn't find any notes",type:"noFilterNotes"}):null,h&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{className:"heading-1 heading-1--notes",children:l===j?"You have completed all notes":"You have ".concat(l,"/").concat(j," ").concat(j>1?"notes ":"note "," completed")}),Object(O.jsx)(ue,{progress:l/j*100}),Object(O.jsx)(le,{notes:i})]}),Object(O.jsxs)(ee,{open:t,confirmBtn:!0,cancelBtn:!0,confirmBtnText:"Add",children:[Object(O.jsx)("h2",{className:"heading-2 mt-0",children:"Add Note"}),Object(O.jsx)(me,{})]})]})})};var fe=function(){return Object(O.jsxs)(Y,{children:[Object(O.jsx)(G,{}),Object(O.jsx)($,{}),Object(O.jsx)(xe,{})]})};var ve=function(){var e=Object(a.useContext)(h),t=e.verifyToken,n=e.auth;return Object(a.useEffect)((function(){t()}),[t]),n.checking?Object(O.jsx)("h1",{children:"Espere por favor..."}):Object(O.jsx)(o.a,{basename:"/notes-app",children:Object(O.jsx)(i.d,{children:n.logged?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(i.b,{path:"/",exact:!0,children:Object(O.jsx)(fe,{})}),Object(O.jsx)(i.a,{to:"/"})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(i.b,{path:"/signin",exact:!0,children:Object(O.jsx)(N,{})}),Object(O.jsx)(i.b,{path:"/signup",exact:!0,children:Object(O.jsx)(y,{})}),Object(O.jsx)(i.a,{to:"/signin"})]})})})};var _e=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(x,{children:Object(O.jsx)(R,{children:Object(O.jsx)(ve,{})})})})},ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(_e,{})}),document.getElementById("root")),ge()}},[[39,1,2]]]);
//# sourceMappingURL=main.adc303d8.chunk.js.map